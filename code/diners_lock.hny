from synch import Lock, acquire, release

def Diners(n) returns forks:
    forks = [Lock(),] * n

def enter(f, i):
    acquire(?(!f)[i])
    acquire(?(!f)[(i + 1) % len !f])

def exit(f, i):
    release(?(!f)[i])
    release(?(!f)[(i + 1) % len !f])
